# Koyeb Configuration
app: galera-volei
type: web

# Build
build:
  type: docker
  dockerfile: Dockerfile
  
# Service
service:
  ports:
    - port: 8000
      protocol: http
  
  routes:
    - path: /
      port: 8000
  
  regions:
    - fra  # Frankfurt (Europa)
    # - was  # Washington DC (USA)
    # - sin  # Singapore (Asia)
  
  instance_type: eco  # Free tier
  
  env:
    - name: PYTHONUNBUFFERED
      value: "1"
    - name: PORT
      value: "8000"
  
  # Health check
  health_checks:
    http:
      port: 8000
      path: /
      interval: 30s
      timeout: 5s
      grace_period: 60s

# Scaling
scaling:
  min: 1
  max: 1
  
# Deploy automaticamente a cada push no GitHub
autoscaling:
  enabled: false
